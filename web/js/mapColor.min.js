var mapColor={};mapColor.map,mapColor.legend,mapColor.init=function(r,a){mapColor.map=Snap.select(r),mapColor.legend=Snap.select(a)},mapColor.apply=function(r,a,o,l){function m(r,a,o){var n,t,p,m,f,l=(r-a)/(o-a);if(.5>=l){m=2*(.5-l),f=2*l;var n=c(e.r,v.r,m,f),t=c(e.g,v.g,m,f),p=c(e.b,v.b,m,f)}else{m=2*(1-l),f=2*(l-.5);var n=c(v.r,i.r,m,f),t=c(v.g,i.g,m,f),p=c(v.b,i.b,m,f)}return"rgb("+n+","+t+","+p+")"}function c(r,a,o,l){var n=r*o+a*l;return Math.floor(n)}var n=Number.MAX_VALUE,t=Number.MIN_VALUE,e=tinycolor(a).toRgb(),v=tinycolor(o).toRgb(),i=tinycolor(l).toRgb();for(var p in r)n>r[p]&&(n=r[p]),t<r[p]&&(t=r[p]);for(var p in r)mapColor.map.select("#".concat(p)).attr({fill:m(r[p],n,t)});mapColor.legend.attr({fill:"l(0,0,1,0)"+a+"-"+o+"-"+l})};